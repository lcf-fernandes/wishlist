{"1750706974958":{"actionType":"saveAll","createdAt":"1750706974958","actionID":"1750706974958","userID":"#TEMP","path":"system.capsules.b6ac106a-fdc0-4aae-b98a-2661dd6da9ee.capsUseCodeInfo.capsUseInputs.sss_custom_caps_el-0.capsIptTxtValue","oldValue":"() => {\n  const [games, setGames] = React.useState([]);\n  const [loading, setLoading] = React.useState(false);\n\n  const fetchDeals = async (filterType) => {\n    setLoading(true);\n    let url = \"https://www.cheapshark.com/api/1.0/deals?\";\n\n    switch (filterType) {\n      case \"store\":\n        url += \"storeID=1\"; // Steam por exemplo\n        break;\n      case \"lowest\":\n        url += \"sortBy=Price\";\n        break;\n      case \"discount\":\n        url += \"sortBy=Deal%20Rating\";\n        break;\n      default:\n        break;\n    }\n\n    try {\n      const res = await fetch(url);\n      const data = await res.json();\n      setGames(data);\n    } catch (error) {\n      console.error(\"Erro ao buscar dados:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\nconst buttonStyle = {\n    backgroundColor: \"#212E1F\",\n    borderRadius: 10,\n    padding: 5,\n    alignItems: \"center\",\n    marginBottom: 2,\n    marginRight: 2,\n  };\n\n  const buttonTextStyle = {\n    color: \"#FFF\",\n    fontSize: 10,\n  };\n\n  return (\n    <RN.View style={{ \npadding: 10,\n  }}>\n      <RN.Text style={{ color: \"#FFF\", fontSize: 10, marginBottom: 4 }}>\n        Filtros:\n      </RN.Text>\n\n<RN.View style={{ \nflexDirection: 'row',\nalignItems: 'center',\n  }}>\n      <RN.Pressable style={buttonStyle} onPress={() => fetchDeals(\"store\")}>\n        <RN.Text style={buttonTextStyle}>Filtrar por Loja (Steam)</RN.Text>\n      </RN.Pressable>\n\n      <RN.Pressable style={buttonStyle} onPress={() => fetchDeals(\"lowest\")}>\n        <RN.Text style={buttonTextStyle}>Menor Preço</RN.Text>\n      </RN.Pressable>\n\n      <RN.Pressable style={buttonStyle} onPress={() => fetchDeals(\"discount\")}>\n        <RN.Text style={buttonTextStyle}>Maior Desconto</RN.Text>\n      </RN.Pressable>\n</RN.View>\n\n\n      {loading ? (\n        <RN.ActivityIndicator size=\"large\" />\n      ) : (\n        <RN.FlatList\n          data={games}\n          keyExtractor={(item) => item.dealID}\n          renderItem={({ item }) => {\n            const price =\n              \"Preço: $\" +\n              item.salePrice +\n              \" (Normal: $\" +\n              item.normalPrice +\n              \")\";\n            const discount =\n              \"Desconto:\" +\n              Math.round(\n                ((item.normalPrice - item.salePrice) / item.normalPrice) * 100\n              ) +\n              \"%\";\n\n            return (\n<RN.View\n                style={{\n                  flexDirection: 'row',\n                }}\n              >\n<RN.Image\n                  source={{ uri: item.thumb }}\n                  style={{\n                    width: 50,\n                    height: 50,\n                    borderRadius: 6,\n                    marginRight: 2,\n\t\t\t\t\tmarginBottom: 2,\n                  }}\n                />\n              <RN.View\n                style={{\n                  flex: 1,\n                }}\n              >\n                <RN.Text style={{ color: \"#FFF\",\n  fontSize: 12, fontWeight: 'bold'}}>\n                  {item.title}\n                </RN.Text>\n                <RN.Text style={{ color: \"#FFF\",\n  fontSize: 10, }}>{price}</RN.Text>\n                <RN.Text style={{ color: \"#FFF\",\n  fontSize: 10, }}>{discount}</RN.Text>\n              </RN.View>\n<RN.View\n                style={{\n                  flex: 1,\njustifyContent: 'center',\n                }}\n              >\n<RN.Pressable style={buttonStyle}\n                    onPress={() => {\n                    \n  if (RN.Platform.OS === 'web') {\nwindow.open(\"https://www.cheapshark.com/redirect?dealID=\" + item.dealID, '_blank');\n  } else {\nRN.Linking.openURL(\"https://www.cheapshark.com/redirect?dealID=\" + item.dealID);\n  }\n                    }}\n                  >\n                    <RN.Text style={buttonTextStyle}>Comprar</RN.Text>\n                  </RN.Pressable>\n</RN.View>\n</RN.View>\n            );\n          }}\n        />\n      )}\n    </RN.View>\n  );\n}","newValue":"() => {\n  const [games, setGames] = React.useState([]);\n  const [loading, setLoading] = React.useState(false);\n\n  const fetchDeals = async (filterType) => {\n    setLoading(true);\n    let url = \"https://www.cheapshark.com/api/1.0/deals?\";\n\n    switch (filterType) {\n      case \"store\":\n        url += \"storeID=1\"; // Steam por exemplo\n        break;\n      case \"lowest\":\n        url += \"sortBy=Price\";\n        break;\n      case \"discount\":\n        url += \"sortBy=Deal%20Rating\";\n        break;\n      default:\n        break;\n    }\n\n    try {\n      const res = await fetch(url);\n      const data = await res.json();\n      setGames(data);\n    } catch (error) {\n      console.error(\"Erro ao buscar dados:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\nconst buttonStyle = {\n    backgroundColor: \"#212E1F\",\n    borderRadius: 10,\n    padding: 5,\n    alignItems: \"center\",\n    marginBottom: 2,\n    marginRight: 2,\n  };\n\n  const buttonTextStyle = {\n    color: \"#FFF\",\n    fontSize: 10,\n  };\n\n  return (\n    <RN.View style={{ \npadding: 10,\n  }}>\n      <RN.Text style={{ color: \"#FFF\", fontSize: 10, marginBottom: 4 }}>\n        Filtros:\n      </RN.Text>\n\n<RN.View style={{ \nflexDirection: 'row',\nalignItems: 'center',\n  }}>\n      <RN.Pressable style={buttonStyle} onPress={() => fetchDeals(\"store\")}>\n        <RN.Text style={buttonTextStyle}>Filtrar por Loja (Steam)</RN.Text>\n      </RN.Pressable>\n\n      <RN.Pressable style={buttonStyle} onPress={() => fetchDeals(\"lowest\")}>\n        <RN.Text style={buttonTextStyle}>Menor Preço</RN.Text>\n      </RN.Pressable>\n\n      <RN.Pressable style={buttonStyle} onPress={() => fetchDeals(\"discount\")}>\n        <RN.Text style={buttonTextStyle}>Maior Desconto</RN.Text>\n      </RN.Pressable>\n</RN.View>\n\n\n      {loading ? (\n        <RN.ActivityIndicator size=\"large\" />\n      ) : (\n        <RN.FlatList\n          data={games}\n          keyExtractor={(item) => item.dealID}\n          renderItem={({ item }) => {\n            const price =\n              \"Preço: $\" +\n              item.salePrice +\n              \" (Normal: $\" +\n              item.normalPrice +\n              \")\";\n            const discount =\n              \"Desconto:\" +\n              Math.round(\n                ((item.normalPrice - item.salePrice) / item.normalPrice) * 100\n              ) +\n              \"%\";\n\n            return (\n<RN.View\n                style={{\n                  flexDirection: 'row',\n                }}\n              >\n<RN.Image\n                  source={{ uri: item.thumb }}\n                  style={{\n                    width: 50,\n                    height: 50,\n                    borderRadius: 6,\n                    marginRight: 2,\n\t\t\t\t\tmarginBottom: 2,\n                  }}\n                />\n              <RN.View\n                style={{\n                  flex: 1,\n                }}\n              >\n                <RN.Text style={{ color: \"#FFF\",\n  fontSize: 12, fontWeight: 'bold'}}>\n                  {item.title}\n                </RN.Text>\n                <RN.Text style={{ color: \"#FFF\",\n  fontSize: 10, }}>{price}</RN.Text>\n                <RN.Text style={{ color: \"#FFF\",\n  fontSize: 10, }}>{discount}</RN.Text>\n              </RN.View>\n<RN.View\n                style={{\n                  flex: 1,\njustifyContent: 'center',\n                }}\n              >\n<RN.Pressable style={buttonStyle}\n                    onPress={() => {\n                    \n  if (RN.Platform.OS === 'web') {\nwindow.open(\"https://www.cheapshark.com/redirect?dealID=\" + item.dealID, '_self');\n  } else {\nRN.Linking.openURL(\"https://www.cheapshark.com/redirect?dealID=\" + item.dealID);\n  }\n                    }}\n                  >\n                    <RN.Text style={buttonTextStyle}>Comprar</RN.Text>\n                  </RN.Pressable>\n</RN.View>\n</RN.View>\n            );\n          }}\n        />\n      )}\n    </RN.View>\n  );\n}"}}